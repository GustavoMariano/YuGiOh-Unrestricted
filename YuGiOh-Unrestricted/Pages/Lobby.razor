@page "/lobby"
@inject AppState App

<h3>Lobby</h3>

@if (App.UserId == Guid.Empty)
{
    <p>You need to login. <a href="/login">Login</a></p>
}
else
{
    <div class="join-container" style="display:flex; gap:12px; align-items:center;">
        <input @bind="battleCode" placeholder="Battle code" />

        <!-- Join Battle sempre ativo -->
        <NavLink class="btn" href="@($"/battle/{Uri.EscapeDataString(battleCode ?? string.Empty)}")">
            Join Battle
        </NavLink>

        <!-- Build Decks -->
        <NavLink class="btn" href="/decks">Build Decks</NavLink>
    </div>
}

@code {
    private string battleCode = "";
}
